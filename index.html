<!DOCTYPE html>
<html>
  <head>
    <title>Speech Synthesis API</title>
    <script>
      function speak() {
        const urlParams = new URLSearchParams(window.location.search);
        const text = urlParams.get('text');
        if (text) {
          const msg = new SpeechSynthesisUtterance();
          msg.text = text;
          const synthesis = window.speechSynthesis;
          synthesis.speak(msg);
          msg.addEventListener('end', () => {
            const audioBlob = new Blob([new Uint8Array(synthesis.getVoices()[0].audioBuffer)]);
            const audioUrl = URL.createObjectURL(audioBlob);
            const audio = document.createElement('audio');
            audio.src = audioUrl;
            audio.controls = true;
            document.body.appendChild(audio);
          });
        }
      }
    </script>
  </head>
  <body onload="speak()">
    <p>Speaking: <span id="text"></span></p>
  </body>
</html>
